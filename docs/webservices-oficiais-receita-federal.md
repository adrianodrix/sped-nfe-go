# Webservices NFe Oficiais - Receita Federal

**Fonte Oficial:** https://www.nfe.fazenda.gov.br/portal/webservices.aspx  
**√öltima Atualiza√ß√£o:** 02/07/2025  
**Status da Implementa√ß√£o:** ‚úÖ URLs atualizadas no c√≥digo (webservices/urls.go)  

## Distribui√ß√£o de Autorizadores

### SVAN - Sefaz Virtual do Ambiente Nacional
- **Estados:** MA

### SVRS - Sefaz Virtual do RS
- **Para Consulta Cadastro:** AC, ES, RN, PB, SC
- **Para demais servi√ßos NFe:** AC, AL, AP, CE, DF, ES, PA, PB, PI, RJ, RN, RO, RR, SC, SE, TO

### Autorizadores em Conting√™ncia

#### SVC-AN - Sefaz Virtual de Conting√™ncia Ambiente Nacional
- **Estados:** AC, AL, AP, CE, DF, ES, MG, PA, PB, PI, RJ, RN, RO, RR, RS, SC, SE, SP, TO

#### SVC-RS - Sefaz Virtual de Conting√™ncia Rio Grande do Sul  
- **Estados:** AM, BA, GO, MA, MS, MT, PE, PR

## URLs dos Webservices por Estado (Produ√ß√£o)

### Amazonas (AM)
```
NfeStatusServico:      https://nfe.sefaz.am.gov.br/services2/services/NfeStatusServico4
NFeAutorizacao:        https://nfe.sefaz.am.gov.br/services2/services/NfeAutorizacao4
NfeConsultaProtocolo:  https://nfe.sefaz.am.gov.br/services2/services/NfeConsulta4
NfeInutilizacao:       https://nfe.sefaz.am.gov.br/services2/services/NfeInutilizacao4
NFeRetAutorizacao:     https://nfe.sefaz.am.gov.br/services2/services/NfeRetAutorizacao4
RecepcaoEvento:        https://nfe.sefaz.am.gov.br/services2/services/RecepcaoEvento4
NfeConsultaCadastro:   https://nfe.sefaz.am.gov.br/services2/services/CadConsultaCadastro4
```

### Bahia (BA)  
```
NfeStatusServico:      https://nfe.sefaz.ba.gov.br/webservices/NFeStatusServico4/NFeStatusServico4.asmx
NFeAutorizacao:        https://nfe.sefaz.ba.gov.br/webservices/NFeAutorizacao4/NFeAutorizacao4.asmx
NfeConsultaProtocolo:  https://nfe.sefaz.ba.gov.br/webservices/NFeConsultaProtocolo4/NFeConsultaProtocolo4.asmx
NfeInutilizacao:       https://nfe.sefaz.ba.gov.br/webservices/NFeInutilizacao4/NFeInutilizacao4.asmx
NFeRetAutorizacao:     https://nfe.sefaz.ba.gov.br/webservices/NFeRetAutorizacao4/NFeRetAutorizacao4.asmx
RecepcaoEvento:        https://nfe.sefaz.ba.gov.br/webservices/NFeRecepcaoEvento4/NFeRecepcaoEvento4.asmx
NfeConsultaCadastro:   https://nfe.sefaz.ba.gov.br/webservices/CadConsultaCadastro4/CadConsultaCadastro4.asmx
```

### Goi√°s (GO)
```
NfeStatusServico:      https://nfe.sefaz.go.gov.br/nfe/services/NFeStatusServico4?wsdl
NFeAutorizacao:        https://nfe.sefaz.go.gov.br/nfe/services/NFeAutorizacao4?wsdl
NfeConsultaProtocolo:  https://nfe.sefaz.go.gov.br/nfe/services/NFeConsultaProtocolo4?wsdl
NfeInutilizacao:       https://nfe.sefaz.go.gov.br/nfe/services/NFeInutilizacao4?wsdl
NFeRetAutorizacao:     https://nfe.sefaz.go.gov.br/nfe/services/NFeRetAutorizacao4?wsdl
RecepcaoEvento:        https://nfe.sefaz.go.gov.br/nfe/services/NFeRecepcaoEvento4?wsdl
NfeConsultaCadastro:   https://nfe.sefaz.go.gov.br/nfe/services/CadConsultaCadastro4?wsdl
```

### Minas Gerais (MG)
```
NfeStatusServico:      https://nfe.fazenda.mg.gov.br/nfe2/services/NFeStatusServico4
NFeAutorizacao:        https://nfe.fazenda.mg.gov.br/nfe2/services/NFeAutorizacao4
NfeConsultaProtocolo:  https://nfe.fazenda.mg.gov.br/nfe2/services/NFeConsultaProtocolo4
NfeInutilizacao:       https://nfe.fazenda.mg.gov.br/nfe2/services/NFeInutilizacao4
NFeRetAutorizacao:     https://nfe.fazenda.mg.gov.br/nfe2/services/NFeRetAutorizacao4
RecepcaoEvento:        https://nfe.fazenda.mg.gov.br/nfe2/services/NFeRecepcaoEvento4
NfeConsultaCadastro:   https://nfe.fazenda.mg.gov.br/nfe2/services/CadConsultaCadastro4
```

### Mato Grosso do Sul (MS)
```
NfeStatusServico:      https://nfe.sefaz.ms.gov.br/ws/NFeStatusServico4
NFeAutorizacao:        https://nfe.sefaz.ms.gov.br/ws/NFeAutorizacao4
NfeConsultaProtocolo:  https://nfe.sefaz.ms.gov.br/ws/NFeConsultaProtocolo4
NfeInutilizacao:       https://nfe.sefaz.ms.gov.br/ws/NFeInutilizacao4
NFeRetAutorizacao:     https://nfe.sefaz.ms.gov.br/ws/NFeRetAutorizacao4
RecepcaoEvento:        https://nfe.sefaz.ms.gov.br/ws/NFeRecepcaoEvento4
NfeConsultaCadastro:   https://nfe.sefaz.ms.gov.br/ws/CadConsultaCadastro4
```

### Mato Grosso (MT)
```
NfeStatusServico:      https://nfe.sefaz.mt.gov.br/nfews/v2/services/NfeStatusServico4?wsdl
NFeAutorizacao:        https://nfe.sefaz.mt.gov.br/nfews/v2/services/NfeAutorizacao4?wsdl
NfeConsultaProtocolo:  https://nfe.sefaz.mt.gov.br/nfews/v2/services/NfeConsulta4?wsdl
NfeInutilizacao:       https://nfe.sefaz.mt.gov.br/nfews/v2/services/NfeInutilizacao4?wsdl
NFeRetAutorizacao:     https://nfe.sefaz.mt.gov.br/nfews/v2/services/NfeRetAutorizacao4?wsdl
RecepcaoEvento:        https://nfe.sefaz.mt.gov.br/nfews/v2/services/RecepcaoEvento4?wsdl
NfeConsultaCadastro:   https://nfe.sefaz.mt.gov.br/nfews/v2/services/CadConsultaCadastro4?wsdl
```

### Pernambuco (PE)
```
NfeStatusServico:      https://nfe.sefaz.pe.gov.br/nfe-service/services/NFeStatusServico4
NFeAutorizacao:        https://nfe.sefaz.pe.gov.br/nfe-service/services/NFeAutorizacao4
NfeConsultaProtocolo:  https://nfe.sefaz.pe.gov.br/nfe-service/services/NFeConsultaProtocolo4
NfeInutilizacao:       https://nfe.sefaz.pe.gov.br/nfe-service/services/NFeInutilizacao4
NFeRetAutorizacao:     https://nfe.sefaz.pe.gov.br/nfe-service/services/NFeRetAutorizacao4
RecepcaoEvento:        https://nfe.sefaz.pe.gov.br/nfe-service/services/NFeRecepcaoEvento4
NfeConsultaCadastro:   https://nfe.sefaz.pe.gov.br/nfe-service/services/CadConsultaCadastro4?wsdl
```

### Paran√° (PR) ‚ö†Ô∏è ATUALIZA√á√ÉO IMPORTANTE
```
NfeStatusServico:      https://nfe.sefa.pr.gov.br/nfe/NFeStatusServico4?wsdl
NFeAutorizacao:        https://nfe.sefa.pr.gov.br/nfe/NFeAutorizacao4?wsdl
NfeConsultaProtocolo:  https://nfe.sefa.pr.gov.br/nfe/NFeConsultaProtocolo4?wsdl
NfeInutilizacao:       https://nfe.sefa.pr.gov.br/nfe/NFeInutilizacao4?wsdl
NFeRetAutorizacao:     https://nfe.sefa.pr.gov.br/nfe/NFeRetAutorizacao4?wsdl
RecepcaoEvento:        https://nfe.sefa.pr.gov.br/nfe/NFeRecepcaoEvento4?wsdl
NfeConsultaCadastro:   https://nfe.sefa.pr.gov.br/nfe/CadConsultaCadastro4?wsdl
```

### Rio Grande do Sul (RS)
```
NfeStatusServico:      https://nfe.sefazrs.rs.gov.br/ws/NfeStatusServico/NfeStatusServico4.asmx
NFeAutorizacao:        https://nfe.sefazrs.rs.gov.br/ws/NfeAutorizacao/NFeAutorizacao4.asmx
NfeConsultaProtocolo:  https://nfe.sefazrs.rs.gov.br/ws/NfeConsulta/NfeConsulta4.asmx
NfeInutilizacao:       https://nfe.sefazrs.rs.gov.br/ws/nfeinutilizacao/nfeinutilizacao4.asmx
NFeRetAutorizacao:     https://nfe.sefazrs.rs.gov.br/ws/NfeRetAutorizacao/NFeRetAutorizacao4.asmx
RecepcaoEvento:        https://nfe.sefazrs.rs.gov.br/ws/recepcaoevento/recepcaoevento4.asmx
NfeConsultaCadastro:   https://cad.svrs.rs.gov.br/ws/cadconsultacadastro/cadconsultacadastro4.asmx
```

### S√£o Paulo (SP)
```
NfeStatusServico:      https://nfe.fazenda.sp.gov.br/ws/nfestatusservico4.asmx
NFeAutorizacao:        https://nfe.fazenda.sp.gov.br/ws/nfeautorizacao4.asmx
NfeConsultaProtocolo:  https://nfe.fazenda.sp.gov.br/ws/nfeconsultaprotocolo4.asmx
NfeInutilizacao:       https://nfe.fazenda.sp.gov.br/ws/nfeinutilizacao4.asmx
NFeRetAutorizacao:     https://nfe.fazenda.sp.gov.br/ws/nferetautorizacao4.asmx
RecepcaoEvento:        https://nfe.fazenda.sp.gov.br/ws/nferecepcaoevento4.asmx
NfeConsultaCadastro:   https://nfe.fazenda.sp.gov.br/ws/cadconsultacadastro4.asmx
```

## Sefazs Virtuais

### SVAN - Sefaz Virtual do Ambiente Nacional
```
NfeStatusServico:      https://www.sefazvirtual.fazenda.gov.br/NFeStatusServico4/NFeStatusServico4.asmx
NFeAutorizacao:        https://www.sefazvirtual.fazenda.gov.br/NFeAutorizacao4/NFeAutorizacao4.asmx
NfeConsultaProtocolo:  https://www.sefazvirtual.fazenda.gov.br/NFeConsultaProtocolo4/NFeConsultaProtocolo4.asmx
NfeInutilizacao:       https://www.sefazvirtual.fazenda.gov.br/NFeInutilizacao4/NFeInutilizacao4.asmx
NFeRetAutorizacao:     https://www.sefazvirtual.fazenda.gov.br/NFeRetAutorizacao4/NFeRetAutorizacao4.asmx
RecepcaoEvento:        https://www.sefazvirtual.fazenda.gov.br/NFeRecepcaoEvento4/NFeRecepcaoEvento4.asmx
```

### SVRS - Sefaz Virtual do Rio Grande do Sul
```
NfeStatusServico:      https://nfe.svrs.rs.gov.br/ws/NfeStatusServico/NfeStatusServico4.asmx
NFeAutorizacao:        https://nfe.svrs.rs.gov.br/ws/NfeAutorizacao/NFeAutorizacao4.asmx
NfeConsultaProtocolo:  https://nfe.svrs.rs.gov.br/ws/NfeConsulta/NfeConsulta4.asmx
NfeInutilizacao:       https://nfe.svrs.rs.gov.br/ws/nfeinutilizacao/nfeinutilizacao4.asmx
NFeRetAutorizacao:     https://nfe.svrs.rs.gov.br/ws/NfeRetAutorizacao/NFeRetAutorizacao4.asmx
RecepcaoEvento:        https://nfe.svrs.rs.gov.br/ws/recepcaoevento/recepcaoevento4.asmx
NfeConsultaCadastro:   https://cad.svrs.rs.gov.br/ws/cadconsultacadastro/cadconsultacadastro4.asmx
```

### SVC-AN - Sefaz Virtual de Conting√™ncia Ambiente Nacional  
```
NfeStatusServico:      https://www.sefazvirtual.fazenda.gov.br/NFeStatusServico4/NFeStatusServico4.asmx
NFeAutorizacao:        https://www.sefazvirtual.fazenda.gov.br/NFeAutorizacao4/NFeAutorizacao4.asmx
NfeConsultaProtocolo:  https://www.sefazvirtual.fazenda.gov.br/NFeConsultaProtocolo4/NFeConsultaProtocolo4.asmx
NfeInutilizacao:       https://www.sefazvirtual.fazenda.gov.br/NFeInutilizacao4/NFeInutilizacao4.asmx
NFeRetAutorizacao:     https://www.sefazvirtual.fazenda.gov.br/NFeRetAutorizacao4/NFeRetAutorizacao4.asmx
RecepcaoEvento:        https://www.sefazvirtual.fazenda.gov.br/NFeRecepcaoEvento4/NFeRecepcaoEvento4.asmx
```

### SVC-RS - Sefaz Virtual de Conting√™ncia Rio Grande do Sul
```
NfeStatusServico:      https://nfe.svrs.rs.gov.br/ws/NfeStatusServico/NfeStatusServico4.asmx
NFeAutorizacao:        https://nfe.svrs.rs.gov.br/ws/NfeAutorizacao/NFeAutorizacao4.asmx
NfeConsultaProtocolo:  https://nfe.svrs.rs.gov.br/ws/NfeConsulta/NfeConsulta4.asmx
NFeRetAutorizacao:     https://nfe.svrs.rs.gov.br/ws/NfeRetAutorizacao/NFeRetAutorizacao4.asmx
RecepcaoEvento:        https://nfe.svrs.rs.gov.br/ws/recepcaoevento/recepcaoevento4.asmx
```

## Ambiente Nacional (AN)

### Servi√ßos Centralizados
```
NFeDistribuicaoDFe:    https://www1.nfe.fazenda.gov.br/NFeDistribuicaoDFe/NFeDistribuicaoDFe.asmx
RecepcaoEvento:        https://www.nfe.fazenda.gov.br/NFeRecepcaoEvento4/NFeRecepcaoEvento4.asmx
```

## URLs de Homologa√ß√£o

**Padr√£o:** As URLs de homologa√ß√£o seguem os seguintes padr√µes:

1. **Para dom√≠nios pr√≥prios:** Adicionar `homologacao.` antes do dom√≠nio  
   - Produ√ß√£o: `https://nfe.sefaz.am.gov.br/...`
   - Homologa√ß√£o: `https://homologacao.nfe.sefaz.am.gov.br/...`

2. **Para Sefazs Virtuais:** Substituir por endere√ßos espec√≠ficos de homologa√ß√£o  
   - SVRS: `https://nfe-homologacao.svrs.rs.gov.br/...`
   - SVAN: `https://hom.sefazvirtual.fazenda.gov.br/...`

## Vers√µes e M√©todos

- **Vers√£o do Layout:** 4.00 (atual)
- **Protocolo:** SOAP 1.2
- **Encoding:** UTF-8
- **Namespaces:** http://www.portalfiscal.inf.br/nfe

## Observa√ß√µes Importantes

1. **Paran√° (PR):** Mudou de `nfe.fazenda.pr.gov.br` para `nfe.sefa.pr.gov.br`
2. **Consulta Cadastro:** Alguns estados usam dom√≠nios espec√≠ficos (ex: RS usa `cad.svrs.rs.gov.br`)
3. **Conting√™ncia:** Estados t√™m autorizadores de conting√™ncia espec√≠ficos
4. **Certificados:** Todos os webservices exigem certificados ICP-Brasil

## Uso no C√≥digo

Estas URLs s√£o utilizadas no arquivo `webservices/urls.go` do projeto sped-nfe-go para configurar os endpoints corretos de cada estado e ambiente.

## Estados Implementados no C√≥digo

### ‚úÖ Completamente Configurados
- **AM** - Amazonas (URLs oficiais)
- **AN** - Ambiente Nacional (URLs oficiais)  
- **BA** - Bahia (URLs oficiais)
- **PR** - Paran√° (URLs atualizadas - sefa.pr.gov.br)
- **SP** - S√£o Paulo (URLs oficiais adicionadas)
- **RS** - Rio Grande do Sul (URLs oficiais adicionadas)
- **SVRS** - Sefaz Virtual RS (URLs oficiais)

### üîÑ Pr√≥ximos Estados a Implementar
Baseado na lista oficial, os seguintes estados ainda precisam ser adicionados:
- GO - Goi√°s
- MG - Minas Gerais  
- MS - Mato Grosso do Sul
- MT - Mato Grosso
- PE - Pernambuco
- SVAN - Sefaz Virtual Ambiente Nacional
- SVC-AN - Sefaz Virtual Conting√™ncia AN
- SVC-RS - Sefaz Virtual Conting√™ncia RS

## Atualiza√ß√µes Realizadas (02/07/2025)

### üîß Corre√ß√µes Cr√≠ticas
1. **Paran√° (PR):** Migra√ß√£o de URLs obsoletas
   - ‚ùå Antigo: `nfe.fazenda.pr.gov.br`
   - ‚úÖ Atual: `nfe.sefa.pr.gov.br`

2. **URLs de Homologa√ß√£o:** Corrigidas de "homtypes" para "homnfe"
   - ‚ùå Antigo: `https://homtypes.sefaz.am.gov.br/...`
   - ‚úÖ Atual: `https://homnfe.sefaz.am.gov.br/...`

### ‚ûï Novos Estados Adicionados
- **S√£o Paulo (SP):** Configura√ß√£o completa produ√ß√£o/homologa√ß√£o
- **Rio Grande do Sul (RS):** Configura√ß√£o completa produ√ß√£o/homologa√ß√£o

### üß™ Testes Realizados
- ‚úÖ Certificado ICP-Brasil real (EMPARI INFORMATICA LTDA)
- ‚úÖ Comunica√ß√£o com SEFAZ Paran√° em produ√ß√£o
- ‚úÖ URLs corretas acess√≠veis (erro 403 √© esperado sem certificados ICP-Brasil)
- ‚úÖ Sistema de resolver de interface funcionando

### üéØ Impacto
- **Interface-based resolver:** Eliminou redund√¢ncia de c√≥digo
- **URLs oficiais:** Melhor confiabilidade na comunica√ß√£o
- **Estados principais:** SP, RS, PR configurados corretamente
- **Documenta√ß√£o:** Fonte oficial registrada para consultas futuras

---
**Mantenha esta documenta√ß√£o atualizada consultando periodicamente a fonte oficial.**